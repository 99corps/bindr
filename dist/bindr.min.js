/*! bindr - v0.0.1 - 2013-08-02
* Copyright (c) 2013 ; Licensed  */
!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.bindr=b()}(this,function(){function a(a,b){this.from=a,this.dependency=b}function b(){this.rARGS=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,this.injections={}}var c=function(){function a(a,b){return a.apply(this,b)}return function(){return a.prototype=this.prototype,new a(this,arguments)}}();a.prototype.to=function(a){return this.dependency=a,this},a.prototype.withArgs=function(a){return this.args="array"==typeof a?a:Array.prototype.splice.call(arguments,0),this},b.prototype.bind=function(b,c){return this.injections[b]=new a(b,c),this.injections[b]},b.prototype.run=function(a){for(var b in a)a.hasOwnProperty(b)&&this.injections[b]&&(a[b]=c.apply(this.injections[b].dependency,this.injections[b].args))},b.prototype.getArgs=function(a){var b=[];return b=a.toString().match(this.rARGS),b[1].split(",").map(function(a){return a.trim()})},b.prototype.wrap=function(a){var b=this,d=a,e=b.getArgs(d);return a=function(){var a=[],f=arguments;e.forEach(function(d,e){var g=f[e];b.injections[d]&&(g=c.apply(b.injections[d].dependency,b.injections[d].args)),a.push(g)}),console.log(a),d.apply(this,a)}};var d=new b,e=function(){return 1===arguments.length?d.wrap.apply(d,arguments):2===arguments.length?d.run.apply(d,arguments):this};return e.bind=d.bind.bind(d),e});